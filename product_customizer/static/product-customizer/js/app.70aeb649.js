(function(t){function e(e){for(var n,a,s=e[0],c=e[1],l=e[2],u=0,f=[];u<s.length;u++)a=s[u],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(f.length)f.shift()();return r.push.apply(r,l||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],n=!0,s=1;s<i.length;s++){var c=i[s];0!==o[c]&&(n=!1)}n&&(r.splice(e--,1),t=a(a.s=i[0]))}return t}var n={},o={app:0},r=[];function a(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=n,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var d=c;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var n=i("85ec"),o=i.n(n);o.a},1:function(t,e){},"10df":function(t,e,i){"use strict";var n=i("651b"),o=i.n(n);o.a},2:function(t,e){},"28d6":function(t,e,i){"use strict";var n=i("46f2"),o=i.n(n);o.a},3:function(t,e){},"336c":function(t,e,i){t.exports=i.p+"../../static/product-customizer/img/back.a5fdd080.png"},4:function(t,e){},4266:function(t,e,i){},"46f2":function(t,e,i){},4814:function(t,e,i){},5:function(t,e){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Designer")],1)},r=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[t.showLoader?i("div",{ref:"loader",staticClass:"loader"},[i("font-awesome-icon",{style:{color:"#212032"},attrs:{icon:"spinner",spin:"",size:"3x"}})],1):t._e(),0===t.step?i("ShirtInfo",{on:{colorChange:t.changeColor,imageAdded:t.addImage,imageDeleted:t.deleteImage,download:t.download}}):i("ProductInfo"),i("Customizer",{ref:"customizer",attrs:{color:t.chosenColor,image:t.image,imageHeight:t.imageHeight,imageWidth:t.imageWidth,showImage:t.showImage}})],1)},s=[],c=(i("96cf"),i("1da1")),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sidebar"},[t.showColorPicker?i("div",{staticClass:"sidebar-body"},[i("div",[i("p",[i("b",[t._v("Selecciona los colores que quieres ofrecer")]),i("br"),i("small",[t._v(t._s(t.colorsChosen.length+" color"+(t.colorsChosen.length>1?"es":"")+" seleccionado"+(t.colorsChosen.length>1?"s":"")))])]),i("div",{staticClass:"color-wrapper"},t._l(t.colors,(function(e){return i("div",{key:e,staticClass:"color color-pick",style:{background:e},on:{click:function(i){return t.addColor(e)}}},[t.colorsChosen.some((function(t){return t===e}))?i("font-awesome-icon",{style:{color:"#ffffff"===e||"#d6d5d5"===e?"black":"white"},attrs:{icon:"check"}}):t._e()],1)})),0)]),t.colorsChosen.length>0?i("button",{on:{click:function(e){t.showColorPicker=!1}}},[t._v("Terminar")]):t._e()]):[i("div",{staticClass:"sidebar-header"},[i("font-awesome-icon",{attrs:{icon:"arrow-left",size:"lg",id:"back-arrow"}}),i("h2",{staticClass:"title"},[t._v("Crea tu producto")])],1),i("div",{staticClass:"sidebar-body"},[i("div",[i("h4",[t._v("Diseña tu producto")]),i("small",[t._v("Tamaño máximo de archivo 50MB")]),i("div",{staticClass:"button-group"},[t.fileAdded?i("button",{on:{click:t.deleteImage}},[i("font-awesome-icon",{attrs:{icon:"trash-alt",size:"lg"}})],1):i("button",{on:{click:t.doclickInput}},[i("font-awesome-icon",{attrs:{icon:"image",size:"lg"}})],1),i("input",{ref:"fileInput",attrs:{type:"file",hidden:""},on:{change:t.addImage}})]),i("hr"),t._m(0),i("div",{staticClass:"color-wrapper"},[t._l(t.colorsChosen,(function(e){return i("div",{key:e,staticClass:"color",style:{background:e},on:{click:function(i){return t.chooseColor(e)}}})})),i("div",{staticClass:"add-color",on:{click:function(e){t.showColorPicker=!0}}},[i("font-awesome-icon",{attrs:{icon:"plus"}})],1)],2),i("hr"),t._m(1),i("div",{staticClass:"calculator"},[i("div",{staticClass:"input-group"},[i("span",[t._v("S/")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.price,expression:"price",modifiers:{number:!0}}],attrs:{id:"price",type:"text",name:"price"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),t.profit>0?i("small",{staticClass:"profit"},[t._v("S/"+t._s(t.profit.toFixed(2))+" ganancia/venta")]):i("small",{style:{color:"red"}},[t._v("Sin ganancias")])])]),i("div",[i("button",{on:{click:t.moveToProductInfo}},[t._v("Continuar")])])])]],2)},d=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("b",[t._v("Selecciona colores")]),i("br"),i("small",[t._v("Selecciona múltiples colores para ofrecer")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[i("b",[t._v("Define tu precio de venta")]),i("br"),i("small",[t._v("Este es el precio que veran los usuarios")])])}],u=(i("4de4"),i("45fc"),{data:function(){return{fileAdded:!1,cost:19.99,price:49.99,colorsChosen:["#ffffff"],colors:["#ffffff","#1a1a1a","#0a1339","#3a4b98","#a02e16","#1c4522","#ef4926","#4c2a6e","#f69f28","#f18fb6","#97e04a","#5c739c","#3f3f38","#f7c3c3","#d6d5d5"],showColorPicker:!1}},methods:{descargar:function(){this.$emit("download")},moveToProductInfo:function(){this.$store.commit("moveToProductInfo")},doclickInput:function(){this.$refs.fileInput.click()},addImage:function(t){var e=this;this.fileAdded=!0;var i=new FileReader;i.onload=function(t){var i=t.target.result,n=new Image;n.src=i,n.onload=function(){var t=n.width,o=n.height;e.$store.commit("addImage",{url:i,width:t,height:o})}},i.readAsDataURL(t.target.files[0])},deleteImage:function(){this.$store.commit("deleteImage")},addColor:function(t){if(!this.colorsChosen.some((function(e){return e===t})))return this.colorsChosen.push(t);this.colorsChosen=this.colorsChosen.filter((function(e){return e!==t}))},chooseColor:function(t){this.$store.commit("chooseColor",t)}},computed:{profit:function(){return this.price-this.cost}}}),f=u,h=(i("87b1"),i("2877")),p=Object(h["a"])(f,l,d,!1,null,"0b3386a0",null),g=p.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"mainPane",staticClass:"mainPane"},[n("div",{staticClass:"mainPaneContent"},[n("div",{staticClass:"productCustomizer"},[t._m(0),n("div",{staticClass:"designArea"},[n("div",{staticClass:"designBase",style:{"background-color":t.color,width:t.baseWidth+"px",height:t.baseWidth+"px"}},[n("svg",{ref:"image",staticClass:"designSvg",style:{top:t.baseWidth/3.5+"px",left:(t.baseWidth-t.printableWidth)/1.93+"px"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 3508 4961",width:""+t.printableWidth,height:""+t.printableHeight}},[t.image.url?n("g",{style:{cursor:"pointer"},attrs:{transform:"matrix("+3508/t.image.width*t.editInfo.scaleX+" 0 0 "+3508/t.image.width*t.editInfo.scaleX+" "+3508*t.editInfo.transX+" "+3508*t.editInfo.transY+")"},on:{click:function(e){t.editing=!0}}},[n("image",{attrs:{href:t.image.url,width:t.image.width,height:t.image.height}})]):t._e()]),n("img",{staticClass:"mask",attrs:{src:i("9e01")("./"+(t.front?"front":"back")+".png"),alt:""}}),n("div",{staticClass:"printableArea outlined",style:{top:t.baseWidth/3.5+"px",left:(t.baseWidth-t.printableWidth)/1.93+"px",width:t.printableWidth+"px",height:t.printableHeight+"px"}},[t.editing?n("vue-draggable-resizable",{attrs:{w:t.selectBoxWidth,h:t.selectBoxHeight,x:t.selectBox.x,y:t.selectBox.y,z:999,lockAspectRatio:"",parent:"",active:"",handles:["tl","tr","br","bl"]},on:{dragging:t.onDrag,resizing:t.onResize,deactivated:function(e){t.editing=!1}}}):t._e()],1)])])])])])},b=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"areaSwitcher"},[i("div",{staticClass:"productTemplateSwitcher"})])}],v=i("bdd1"),w=i("aeb1"),C={data:function(){return{editing:!1,front:!0,baseWidth:0,printableWidth:0,printableHeight:0,editInfo:{transX:0,transY:0,scaleX:1,scaleY:1},selectBox:{x:0,y:0,w:1,h:1}}},methods:{svgToPng:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$refs.image.setAttribute("width","3508"),t.$refs.image.setAttribute("height","4960"),i=(new XMLSerializer).serializeToString(t.$refs.image),e.next=5,Object(v["svg2png"])({input:i,encoding:"dataURL",format:"png"});case 5:n=e.sent,w(n),t.$refs.image.setAttribute("width",t.printableWidth),t.$refs.image.setAttribute("height",t.printableHeight);case 9:case"end":return e.stop()}}),e)})))()},onResize:function(t,e,i,n){this.editInfo.transX=t/this.printableWidth,this.selectBox.x=t,this.editInfo.transY=e/this.printableWidth,this.selectBox.y=e,this.editInfo.scaleX=i/this.printableWidth,this.selectBox.w=i/this.printableWidth,this.editInfo.scaleY=n/this.printableWidth,this.selectBox.h=n/this.printableWidth},onDrag:function(t,e){this.editInfo.transX=t/this.printableWidth,this.selectBox.x=t,this.editInfo.transY=e/this.printableWidth,this.selectBox.y=e}},computed:{ratio:function(){return 3508/this.image.width},selectBoxWidth:function(){return this.image.width*(this.printableWidth*this.ratio/3508)*this.selectBox.w},selectBoxHeight:function(){return this.image.height*(this.printableWidth*this.ratio/3508)*this.selectBox.w},image:function(){return this.$store.state.image},color:function(){return this.$store.state.chosenColor}},mounted:function(){var t=this;this.baseWidth=Math.floor(window.innerWidth/2.5),this.printableWidth=Math.floor(window.innerWidth/6.8),this.printableHeight=1.4142*this.printableWidth,window.onresize=function(e){t.editing=!1,t.baseWidth=Math.floor(e.target.innerWidth/2.5),t.printableWidth=Math.floor(window.innerWidth/6.8),t.printableHeight=1.4142*t.printableWidth}}},x=C,_=(i("28d6"),Object(h["a"])(x,m,b,!1,null,null,null)),y=_.exports,I=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Sidebar",{scopedSlots:t._u([{key:"header",fn:function(){return[i("font-awesome-icon",{staticClass:"arrow-back",attrs:{icon:"arrow-left",size:"lg",id:"back-arrow"},on:{click:t.goBack}}),i("h2",{staticClass:"title"},[t._v("Detalle de campaña")])]},proxy:!0},{key:"body",fn:function(){return[i("div",[i("CustomInput",{attrs:{placeholder:"Título de tu campaña",type:"text",name:"title",width:"100%"}}),i("br"),i("br"),i("CustomInput",{attrs:{placeholder:"Descripción de campaña",type:"textarea",name:"description",width:"100%"}})],1),i("button",[t._v("Terminar")])]},proxy:!0}])})},k=[],W=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sidebar"},[i("div",{staticClass:"sidebar-header"},[t._t("header")],2),i("div",{staticClass:"sidebar-body"},[t._t("body")],2)])},S=[],$={},O=$,P=(i("f420"),Object(h["a"])(O,W,S,!1,null,"c8acfd1c",null)),z=P.exports,j=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"input-group"},["textarea"!==t.type?i("span",[t._v(t._s(t.prefix))]):t._e(),"text"===t.type?i("input",{style:t.getStyle,attrs:{type:t.type,name:t.name,placeholder:t.placeholder}}):t._e(),"textarea"===t.type?i("textarea",{style:t.getStyle,attrs:{rows:"10",placeholder:t.placeholder}}):t._e()])},B=[],T={props:{type:String,name:String,prefix:String,placeholder:String,width:String},computed:{getStyle:function(){var t={};return this.width&&(t.width=this.width),t}}},A=T,D=(i("7798"),Object(h["a"])(A,j,B,!1,null,"16aa90d2",null)),E=D.exports,H={methods:{goBack:function(){this.$store.commit("moveToShirtInfo")}},components:{Sidebar:z,CustomInput:E}},R=H,M=(i("10df"),Object(h["a"])(R,I,k,!1,null,"19383b8e",null)),L=M.exports,X={data:function(){return{showLoader:!1,chosenColor:"#ffffff",image:"",imageWidth:0,imageHeight:0,showImage:!1}},computed:{step:function(){return this.$store.state.step}},methods:{download:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.showLoader=!0,e.next=3,t.$refs.customizer.svgToPng();case 3:t.showLoader=!1;case 4:case"end":return e.stop()}}),e)})))()},changeColor:function(t){this.chosenColor=t},deleteImage:function(){this.image="",this.imageWidth=0,this.imageHeight=0,this.showImage=!1},addImage:function(t){var e=this,i=new FileReader;i.onload=function(t){var i=t.target.result;e.image=i;var n=new Image;n.src=i,n.onload=function(){e.imageWidth=n.width,e.imageHeight=n.height,e.showImage=!0}},i.readAsDataURL(t)}},components:{ShirtInfo:g,Customizer:y,ProductInfo:L}},U=X,Y=(i("5812"),Object(h["a"])(U,a,s,!1,null,"3a0efe04",null)),F=Y.exports,q={name:"App",components:{Designer:F}},N=q,J=(i("034f"),Object(h["a"])(N,o,r,!1,null,null,null)),G=J.exports,K=i("fb19"),Q=i.n(K),V=i("ecee"),Z=i("c074"),tt=i("ad3d"),et=(i("278f"),i("f5df1"),i("2f62"));n["a"].use(et["a"]);var it=new et["a"].Store({state:{image:{url:"",width:0,height:0},chosenColor:"#ffffff",colors:[],step:0},mutations:{addImage:function(t,e){t.image=e},deleteImage:function(t){t.image={url:"",width:0,height:0}},chooseColor:function(t,e){t.chosenColor=e},moveToProductInfo:function(t){t.step=1},moveToShirtInfo:function(t){t.step=0}},actions:{},modules:{}});V["c"].add(Z["d"],Z["c"],Z["e"],Z["b"],Z["a"],Z["g"],Z["f"]),n["a"].component("font-awesome-icon",tt["a"]),n["a"].component("vue-draggable-resizable",Q.a),n["a"].config.productionTip=!1,new n["a"]({store:it,render:function(t){return t(G)}}).$mount("#app")},5812:function(t,e,i){"use strict";var n=i("c909"),o=i.n(n);o.a},"651b":function(t,e,i){},7798:function(t,e,i){"use strict";var n=i("ca1f"),o=i.n(n);o.a},"85ec":function(t,e,i){},"87b1":function(t,e,i){"use strict";var n=i("4814"),o=i.n(n);o.a},"9e01":function(t,e,i){var n={"./back.png":"336c","./front.png":"ab34"};function o(t){var e=r(t);return i(e)}function r(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=r,t.exports=o,o.id="9e01"},ab34:function(t,e,i){t.exports=i.p+"../../static/product-customizer/img/front.d1449e7c.png"},c909:function(t,e,i){},ca1f:function(t,e,i){},f420:function(t,e,i){"use strict";var n=i("4266"),o=i.n(n);o.a}});
//# sourceMappingURL=app.70aeb649.js.map